var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function s(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function p(t){return""===t?null:+t}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}let g;function y(t){g=t}function b(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const v=[],k=[],_=[],x=[],w=Promise.resolve();let z=!1;function E(t){_.push(t)}let C=!1;const j=new Set;function A(){if(!C){C=!0;do{for(let t=0;t<v.length;t+=1){const n=v[t];y(n),M(n.$$)}for(y(null),v.length=0;k.length;)k.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];j.has(n)||(j.add(n),n())}_.length=0}while(v.length);for(;x.length;)x.pop()();z=!1,C=!1,j.clear()}}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const D=new Set;function L(t,n){t&&t.i&&(D.delete(t),t.i(n))}function N(t,e,c,u){const{fragment:i,on_mount:s,on_destroy:l,after_update:a}=t.$$;i&&i.m(e,c),u||E((()=>{const e=s.map(n).filter(r);l?l.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(E)}function O(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function P(t,n){-1===t.$$.dirty[0]&&(v.push(t),z||(z=!0,w.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function T(n,r,c,u,i,l,a=[-1]){const f=g;y(n);const d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:r.context||[]),callbacks:e(),dirty:a,skip_bound:!1};let h=!1;if(d.ctx=c?c(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&P(n,t)),e})):[],d.update(),h=!0,o(d.before_update),d.fragment=!!u&&u(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(s)}else d.fragment&&d.fragment.c();r.intro&&L(n.$$.fragment),N(n,r.target,r.anchor,r.customElement),A()}y(f)}class F{$destroy(){O(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function S(t,n,e){const o=t.slice();return o[7]=n[e],o}function q(t){let n,e,o,r,c,d,h,p,$,g,y=t[7].year+"",b=t[7].month+"",v=t[7].day+"",k=t[7].consumption+"";return{c(){n=l("tr"),e=l("td"),o=a(y),r=a("-"),c=a(b),d=a("-"),h=a(v),p=f(),$=l("td"),g=a(k)},m(t,s){i(t,n,s),u(n,e),u(e,o),u(e,r),u(e,c),u(e,d),u(e,h),u(n,p),u(n,$),u($,g)},p(t,n){1&n&&y!==(y=t[7].year+"")&&m(o,y),1&n&&b!==(b=t[7].month+"")&&m(c,b),1&n&&v!==(v=t[7].day+"")&&m(h,v),1&n&&k!==(k=t[7].consumption+"")&&m(g,k)},d(t){t&&s(n)}}}function B(n){let e,o,r,c,d,h,p,$,g,y,b=n[0],v=[];for(let t=0;t<b.length;t+=1)v[t]=q(S(n,b,t));return{c(){e=l("table"),o=l("thead"),o.innerHTML="<tr><th>Date</th><th>Consumption</th></tr>",r=f(),c=l("tbody");for(let t=0;t<v.length;t+=1)v[t].c();d=f(),h=l("tr"),p=l("td"),$=f(),g=l("td"),y=a(n[1])},m(t,n){i(t,e,n),u(e,o),u(e,r),u(e,c);for(let t=0;t<v.length;t+=1)v[t].m(c,null);u(c,d),u(c,h),u(h,p),u(h,$),u(h,g),u(g,y)},p(t,[n]){if(1&n){let e;for(b=t[0],e=0;e<b.length;e+=1){const o=S(t,b,e);v[e]?v[e].p(o,n):(v[e]=q(o),v[e].c(),v[e].m(c,d))}for(;e<v.length;e+=1)v[e].d(1);v.length=b.length}2&n&&m(y,t[1])},i:t,o:t,d(t){t&&s(e),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(v,t)}}}function H(t,n,e){var o=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))((function(r,c){function u(t){try{s(o.next(t))}catch(t){c(t)}}function i(t){try{s(o.throw(t))}catch(t){c(t)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(u,i)}s((o=o.apply(t,n||[])).next())}))};let r,c,u,{year:i}=n,{month:s=1}=n,l=[];return b((()=>e(4,r=!0))),t.$$set=t=>{"year"in t&&e(2,i=t.year),"month"in t&&e(3,s=t.month)},t.$$.update=()=>{if(12&t.$$.dirty&&i>2e3&&i<2100&&s>=1&&s<=12&&e(5,c=`/api/${i}/${s}`),48&t.$$.dirty){const t=()=>o(void 0,void 0,void 0,(function*(){const t=yield fetch(c);e(0,l=yield t.json())}));r&&t()}1&t.$$.dirty&&e(1,u=l?l.reduce(((t,n)=>t+n.consumption),0):0)},[l,u,i,s,r,c]}class Y extends F{constructor(t){super(),T(this,t,H,B,c,{year:2,month:3})}}function G(t){let n,e,r,c,a,m,g,y,b,v,k,_,x,w,z,E,C;return w=new Y({props:{year:t[0],month:t[1]}}),{c(){var t;n=l("main"),e=l("h1"),e.textContent="PowerMeter",r=f(),c=l("button"),c.textContent="<",a=f(),m=l("label"),g=l("input"),y=f(),b=l("label"),v=l("input"),k=f(),_=l("button"),_.textContent=">",x=f(),(t=w.$$.fragment)&&t.c(),h(e,"class","svelte-bzcskk"),h(c,"class","svelte-bzcskk"),h(g,"type","number"),h(g,"class","svelte-bzcskk"),h(m,"class","svelte-bzcskk"),h(v,"type","number"),h(v,"class","svelte-bzcskk"),h(b,"class","svelte-bzcskk"),h(_,"class","svelte-bzcskk"),h(n,"class","svelte-bzcskk")},m(o,s){i(o,n,s),u(n,e),u(n,r),u(n,c),u(n,a),u(n,m),u(m,g),$(g,t[0]),u(n,y),u(n,b),u(b,v),$(v,t[1]),u(n,k),u(n,_),u(n,x),N(w,n,null),z=!0,E||(C=[d(c,"click",t[3]),d(g,"input",t[4]),d(v,"input",t[5]),d(_,"click",t[2])],E=!0)},p(t,[n]){1&n&&p(g.value)!==t[0]&&$(g,t[0]),2&n&&p(v.value)!==t[1]&&$(v,t[1]);const e={};1&n&&(e.year=t[0]),2&n&&(e.month=t[1]),w.$set(e)},i(t){z||(L(w.$$.fragment,t),z=!0)},o(t){!function(t,n,e,o){if(t&&t.o){if(D.has(t))return;D.add(t),(void 0).c.push((()=>{D.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}(w.$$.fragment,t),z=!1},d(t){t&&s(n),O(w),E=!1,o(C)}}}function I(t,n,e){let o=(new Date).getFullYear(),r=(new Date).getMonth()+1;return[o,r,function(){e(1,r++,r),r<=12||(e(0,o++,o),e(1,r=1))},function(){e(1,r--,r),r>=1||(e(0,o--,o),e(1,r=12))},function(){o=p(this.value),e(0,o)},function(){r=p(this.value),e(1,r)}]}return new class extends F{constructor(t){super(),T(this,t,I,G,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
